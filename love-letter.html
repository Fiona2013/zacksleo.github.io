<!DOCTYPE HTML>
<html lang="zh-cn">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
    <meta content="telephone=no" name="format-detection" />
    <link href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
  <div class="container">
    <div class="row">
      <div class="col-xs-4 col-sm-3" style="height:400px;">
        <canvas id="circle" width="600" height="600"></canvas>
      </div>
      <div class="well" style="margin-top:400px;">
        <blockquote>「好像突然有了软肋,也突然有了铠甲」</blockquote>
        献给·青青
        <hr/>
        <blockquote>七夕快乐！</blockquote>
        <small style="text-align: right;">爱你的俊伟</small>
        <br/>
        <small id="clock"></small>
      </div>
    </div>
  </div>
  <script>
    /**
     * 同心圆
     */
    (function(){
      var target = document.getElementById('circle');
      var context = target.getContext('2d');
      context.strokeStyle = '#ddd';
      for(var i = 0; i < 9; i++){
        context.arc(150, 200, 20 * (i + 1), 0, 360);
        context.stroke();
      }
    })();
    /**
     * 心形
     */
    (function(){
      var context = document.getElementById("circle").getContext('2d');
      context.beginPath();
      context.fillStyle = '#F3363D';
      context.translate(150, 150);
      var r = 0, a = 100, start = 0, end = 0;
      context.rotate(Math.PI);
      for(var q = 0; q < 500; q++){
        start += Math.PI * 2 / 500;
        end = start + Math.PI * 2 / 500;
        r = a * (1 - Math.sin(start));  //心形极坐标表示法
        context.arc(0, 0, r, start, end, false);
      }
      context.fill();
    })();
    /**
     * 倒计时
     */
    var start = Date.parse(new Date(2013, 11, 25));
    var yearMs = 365 * 24 * 60 * 60 * 1000;
    var monthMs = 30 * 24 * 60 * 60 * 1000;
    var dayMs = 24 * 60 * 60 * 1000;
    var hourMs = 60 * 60 * 1000;
    var minuteMs = 60 * 1000;

    function refreshTime(){
      var now = Date.parse(new Date());
      var diff = now - start;
      var year = parseInt(diff / yearMs);
      var month = parseInt((diff - year * yearMs) / monthMs);
      var day = parseInt((diff - year * yearMs - month * monthMs) / dayMs);
      var hour = parseInt((diff - year * yearMs - month * monthMs - day * dayMs) / hourMs);
      var minute = parseInt((diff - year * yearMs - month * monthMs - day * dayMs - hour * hourMs) / minuteMs);
      var ms = diff - year * yearMs - month * monthMs - day * dayMs - hour * hourMs - minute * minuteMs;
      document.getElementById('clock').innerHTML = year + '年' + month + '月' + day + '天' + hour + '时' + minute + '分' + ms;
      setTimeout('refreshTime()', 125);
    }
    refreshTime();
  </script>
</body>
</html>
